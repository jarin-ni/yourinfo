<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="card">
  <h1>ğŸ‘‹ Welcome to You to Your Page</h1>

  <p><span class="label">IP Address:</span> <span id="ip">Loading...</span></p>
  <p><span class="label">Location:</span> <span id="location">Loading...</span></p>
  <p><span class="label">Date & Time:</span> <span id="datetime"></span></p>

  <div class="nav">
    <a href="map.html">ğŸ“ View Map</a>
  </div>
</div>

<script>
  function updateTime() {
    document.getElementById("datetime").innerText =
      new Date().toLocaleString();
  }
  updateTime();
  setInterval(updateTime, 1000);

  fetch("https://ipapi.co/json/")
    .then(res => res.json())
    .then(data => {
      document.getElementById("ip").innerText = data.ip;
      document.getElementById("location").innerText =
        data.city + ", " + data.region + ", " + data.country_name;

      // store for map page
      localStorage.setItem("lat", data.latitude);
      localStorage.setItem("lon", data.longitude);
    })
    .catch(() => {
      document.getElementById("ip").innerText = "Unavailable";
      document.getElementById("location").innerText = "Unavailable";
    });
</script>

</body>
</html>

